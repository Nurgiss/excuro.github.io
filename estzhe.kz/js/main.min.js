let navigationHeaderLinks=document.querySelectorAll(".header__navigation a:not(.header__apply)");document.querySelector("main").classList.contains("main")||navigationHeaderLinks.forEach((function(link){link.href="/"+link.getAttribute("href")}));let foodSlider=new Swiper(".banner__food-slider",{direction:"vertical",slidesPerView:1,spaceBetween:100,speed:800,loop:!0,centeredSlides:!0,autoplay:{delay:2e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}}),offerSlider=new Swiper(".offer__slider",{centeredSlides:!0,loop:!0,slideToClickedSlide:!0,navigation:{nextEl:".offer__arrow--next",prevEl:".offer__arrow--prev"},on:{init:function(){document.querySelector(".offer__item.swiper-slide-active");let arrows=document.querySelector(".offer__arrows");arrows.style.left=window.innerWidth/2-arrows.offsetWidth/2+"px",window.addEventListener("resize",(function(){arrows.style.left=window.innerWidth/2-arrows.offsetWidth/2+"px"}))}},breakpoints:{320:{autoHeight:!0,slidesPerView:1.2,spaceBetween:20},600:{autoHeight:!0,slidesPerView:1.5,spaceBetween:40},1050:{slidesPerView:1.3,spaceBetween:120},1280:{slidesPerView:"auto",spaceBetween:120},1600:{slidesPerView:"auto",spaceBetween:240}}}),benefitSwitchItems=document.querySelectorAll(".benefit__switch-item");benefitSwitchItems.forEach((function(item){item.addEventListener("click",(function(){for(let i=0;i<benefitSwitchItems.length;i++)benefitSwitchItems[i].classList.contains("active")&&(benefitSwitchItems[i].classList.remove("active"),document.querySelector(".benefit__switch-content."+benefitSwitchItems[i].id).classList.remove("active"));this.classList.add("active"),document.querySelector(".benefit__switch-content."+this.id).classList.add("active")}))}));let faqItems=document.querySelectorAll(".faq__item");faqItems.forEach((function(item){item.addEventListener("click",(function(){this.classList.toggle("active")}))}));let headerBurger=document.querySelector(".header__burger"),menu=document.querySelector(".menu"),menuClose=document.querySelector(".menu__close");headerBurger.addEventListener("click",(function(){this.classList.add("active"),menu.classList.add("active"),document.body.classList.add("pop-up")})),menuClose.addEventListener("click",(function(){menu.classList.remove("active"),headerBurger.classList.remove("active"),document.body.classList.remove("pop-up")}));let menuNavigationLinks=document.querySelectorAll(".menu__navigation a");menuNavigationLinks.forEach((function(item){item.addEventListener("click",(function(){menu.classList.remove("active"),headerBurger.classList.remove("active"),document.body.classList.remove("pop-up")}))}));let applyButton=document.querySelector(".how-it-works__submit-application"),qrmenuOption=document.querySelector(".how-it-works__rate-item--menu"),ordersOption=document.querySelector(".how-it-works__rate-item--orders"),paymentsOption=document.querySelector(".how-it-works__rate-item--payment"),headerApplyButtons=document.querySelectorAll(".header__apply"),applyPopup=document.querySelector(".apply-popup"),applyPopupContainer=document.querySelector(".apply-popup__container"),applyPopupClose=document.querySelector(".apply-popup__close"),formSubmit=document.querySelector(".apply-popup__form-submit"),form=document.querySelector("#apply-form"),applierPhone=document.querySelector("#applier-phone"),applierName=document.querySelector("#applier-name");function trackEvent(eventName){dataLayer&&dataLayer.push({event:eventName}),yaCounter75039049&&yaCounter75039049.reachGoal(eventName)}function validateInput(input){let pattern,telPattern=/^([+]\d{9,})$/,textPattern=/^.{2,}$/;pattern="tel"==input.getAttribute("type")?telPattern:textPattern,pattern.test(input.value)?(input.parentNode.classList.remove("error"),input.parentNode.classList.add("valid")):(input.parentNode.classList.add("error"),input.parentNode.classList.remove("valid"))}function validateForm(){let validatedInputs=document.querySelectorAll(".apply-popup__form .apply-popup__input.valid");return document.querySelectorAll(".apply-popup__form .apply-popup__input.validated").forEach((function(input){input.classList.contains("valid")||input.classList.add("error")})),2==validatedInputs.length}function clearInputs(){document.querySelectorAll(".apply-popup__form .apply-popup__input").forEach((function(input){input.classList.remove("error"),input.classList.remove("valid"),input.querySelector("input").value=""}))}applyPopup.addEventListener("click",(function(){applyPopup.classList.remove("active"),document.body.classList.remove("pop-up"),clearInputs()})),applyPopupContainer.addEventListener("click",(function(e){e.stopPropagation()})),headerApplyButtons.forEach((function(button){button.addEventListener("click",(function(e){trackEvent("menuButton-click"),e.preventDefault(),applyPopup.classList.add("active"),document.body.classList.add("pop-up")}))})),applyButton&&applyButton.addEventListener("click",(function(e){trackEvent("requestButton-click"),e.preventDefault(),applyPopup.classList.add("active"),document.body.classList.add("pop-up")})),qrmenuOption&&qrmenuOption.addEventListener("click",(function(e){trackEvent("qrmenuOption-click"),e.preventDefault(),applyPopup.classList.add("active"),document.body.classList.add("pop-up")})),ordersOption&&ordersOption.addEventListener("click",(function(e){trackEvent("ordersOption-click"),e.preventDefault(),applyPopup.classList.add("active"),document.body.classList.add("pop-up")})),paymentsOption&&paymentsOption.addEventListener("click",(function(e){trackEvent("paymentsOption-click"),e.preventDefault(),applyPopup.classList.add("active"),document.body.classList.add("pop-up")})),applyPopupClose.addEventListener("click",(function(){applyPopup.classList.remove("active"),document.body.classList.remove("pop-up"),clearInputs()})),applierName.addEventListener("blur",(function(){validateInput(this)})),applierPhone.addEventListener("focus",(function(){0==this.value&&(this.value="+",setTimeout((()=>{this.setSelectionRange(1,1)}),100))})),applierPhone.addEventListener("keyup",(function(e){0==this.value&&(this.value="+")})),applierPhone.addEventListener("blur",(function(){validateInput(this)})),form.addEventListener("submit",(async function(e){e.preventDefault();if(validateForm()){trackEvent("applyForm-submit"),formSubmit.value="Спасибо",formSubmit.disabled=!0,setTimeout((()=>{formSubmit.value="Отправить",formSubmit.disabled=!1,applyPopup.classList.remove("active"),document.body.classList.remove("pop-up")}),2e3);try{const response=await fetch("request.php",{method:"POST",body:new FormData(form)});"ok"==await response.text()?clearInputs():alert("Кажется, что-то пошло не так... Напишите нам: hello@ezha.online")}catch(error){console.error("Form Request Error:",error),formSubmit.disabled=!1}}}));